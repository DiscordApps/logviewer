<!--
using code derived from <https://github.com/Tyrrrz/DiscordChatExporter/blob/1356d4483afbb0942c67cc459c6ee5ccaedeb6f6/DiscordChatExporter.Core/Resources/ExportTemplates/Html/Core.html>
© 2017-2018 Alexey Golub, licensed under MIT
modified by https://github.com/EJH2
© 2019 EJH2
!-->
<!DOCTYPE html>
<html lang="en" class="theme-dark">
<head>
    <title>{% block title %}{% endblock %}</title>
    {% block init_css %}{% endblock %}

    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width"/>
    <meta name="og:title" content="Discord Log Viewer">
    <meta name="og:description" content="Beautify your Discord Logs">
    <meta name="og:image" content="{{ request.scheme }}://{{ request.META.HTTP_HOST }}{% static 'discord_logview/icons/black_file.png' %}">

    <link href="{% static "discord_logview/css/logs.css" %}" rel="stylesheet">
    <script>
      if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') {
        document.documentElement.style.display = 'none';
        document.head.insertAdjacentHTML(
            'beforeend',
            '<link rel="stylesheet" class="theme" href="{% static "discord_logview/css/logs_dark.css" %}" onload="document.documentElement.style.display = \'\'">'
        );
      }
    </script>
    <link rel="stylesheet" class="theme" href="{% static "discord_logview/css/logs_dark.css" %}" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: dark)">
    <link rel="stylesheet" class="theme" href="{% static "discord_logview/css/logs_light.css" %}" media="(prefers-color-scheme: light)">
    <script>
      if (window.matchMedia('(prefers-color-scheme: dark)').media === 'not all') {
        document.documentElement.style.display = 'none';
        document.head.insertAdjacentHTML(
            'beforeend',
            '<link rel="stylesheet" class="hl_theme" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css" onload="document.documentElement.style.display = \'\'">'
        );
      }
    </script>
    <link class="hl_theme" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-dark.min.css"
          rel="stylesheet" media="(prefers-color-scheme: no-preference), (prefers-color-scheme: dark)">
    <link class="hl_theme" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/solarized-light.min.css"
          rel="stylesheet" media="(prefers-color-scheme: light)">
    <link rel="stylesheet" href="{% static 'discord_logview/css/alert.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="shortcut icon" href="{% static 'discord_logview/icons/favicon.png' %}">
    {% block extra_css %}{% endblock %}

{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>#}
{#    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>#}
    {% if log.chunked %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-infinitescroll/3.0.5/infinite-scroll.pkgd.min.js"></script>
    {% endif %}
    <script>const uid = '{{ log.user_id }}';</script>
    {% if not export %}
    <script src="{% static 'discord_logview/js/alert.js' %}"></script>
    {% endif %}
    <script src="{% static 'discord_logview/js/logs.js' %}"></script>
</head>
<body class="no-js"{% if export %} style="margin-top: 20px"{% endif %}>
{#<div class="userPopout-3XzG_A">#}
{#    <div class="headerPlaying-j0WQBV header-2BwW8b size16-14cGz5">#}
{#        <div class="flex-1xMQg5 flex-1O1GKY vertical-V37hAW flex-1O1GKY directionColumn-35P_nr justifyCenter-3D2jYp alignCenter-1dQNNs noWrap-3jynv6 headerTop-3C2Zn0" style="flex: 1 1 auto;">#}
{#            <div tabindex="0" class="avatarWrapperNormal-3wFMbf avatarWrapper-3H_478" role="button">#}
{#                <div class="wrapper-3t9DeA" role="img" aria-label="Patron Logger, Online" aria-hidden="false" style="width: 80px; height: 80px;">#}
{#                    <svg width="92" height="80" viewBox="0 0 92 80" class="mask-1l8v16" aria-hidden="true">#}
{#                        <defs>#}
{#                            <mask id="avatar-status-round" maskContentUnits="objectBoundingBox" viewBox="0 0 1 1">#}
{#                                <circle fill="white" cx="0.5" cy="0.5" r="0.5"></circle>#}
{#                            </mask>#}
{#                        </defs>#}
{#                        <foreignObject x="0" y="0" width="80" height="80" mask="url(#avatar-status-round)">#}
{#                            <img src="https://cdn.discordapp.com/avatars/579149474975449098/aee4bd49b196975b9c9099e156db46b7.png?size=128" alt=" " class="avatar-VxgULZ" aria-hidden="true">#}
{#                        </foreignObject>#}
{#                    </svg>#}
{#                </div>#}
{#                <svg width="80" height="80" class="avatarHint-1qgaV3" viewBox="0 0 80 80">#}
{#                    <foreignObject x="0" y="0" width="80" height="80" mask="url(#avatar-status-round)">#}
{#                        <div class="avatarHintInner-Dco91E size10-39i14u height12-2Ltw-k">View Profile</div>#}
{#                    </foreignObject>#}
{#                </svg>#}
{#            </div>#}
{#            <div class="headerText-2sdzFM userSelectText-1o1dQ7">#}
{#                <div class="flex-1xMQg5 flex-1O1GKY horizontal-1ae9ci horizontal-2EEEnY flex-1O1GKY directionRow-3v3tfG justifyStart-2NDFzi alignCenter-1dQNNs noWrap-3jynv6" style="flex: 1 1 auto;">#}
{#                    <div class="headerTagNoNickname-ENx6no headerTag-2pZJzA size14-3iUx6q size16-14cGz5 nameTag-m8r81H">#}
{#                        <span class="username-2b1r56 headerTagUsernameNoNickname-2_H881">Patron Logger</span>#}
{#                        <span>#2596</span>#}
{#                        <span class="botTagInvert-18-95s botTag-2WPJ74 bot-2Fta1w">BOT</span>#}
{#                    </div>#}
{#                </div>#}
{#            </div>#}
{#        </div>#}
{#    </div>#}
{#</div>#}
    {% if log.type == "logger" %} {# Patrons, smh #}
    <!--
    hahayes
         _
       _| |
     _| | |
    | | | |
    | | | | __
    | | | |/  \
    |       /\ \
    |      /  \/
    |      \  /\
    |       \/ /
     \        /
      |     /
      |    |
    !-->
    {% endif %}
    {% if not export %}
        {% include 'discord_logview/navbar.html' %}
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" role="alert">{{ message }}</div>
        {% endfor %}
        {% endif %}
        {% endif %}
    <div id="header">
        <div id="header-icon-container">
            {% block header-icon %}{% endblock header-icon %}
        </div>
        <div id="header-data">
            {% block header-data %}{% endblock header-data %}
        </div>
        {% block far-buttons %}{% endblock %}
    </div>
    <div id="message-container" class="infinite-container" style="height: 100%">
        {% block messages %}{% endblock messages %}
    </div>
    {% if log.page and log.page.has_next %}
    <div class="infinite-next">
        <a class="infinite-more-link" href="{{ log.uuid }}?page={{ log.page.next_page_number }}"></a>
    </div>
    <div class="infinite-scroll-status">
        <img class="infinite-scroll-request" src="{% static 'discord_logview/icons/loading.gif' %}" alt="Loading...">
    </div>
    {% endif %}
    <div id="lightbox_div"></div>
{% block extra_js %}{% endblock %}
<div id="copyright">
    <div>Made with blood, sweat, and Django by <a href="https://github.com/EJH2">EJH2</a></div>
    <div>Discord Log Viewer is not affiliated with Discord, which is a registered trademark of Discord Inc.</div>
</div>
</body>
</html>